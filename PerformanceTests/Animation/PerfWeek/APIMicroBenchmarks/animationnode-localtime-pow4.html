<!DOCTYPE html>
<script src="../../../resources/runner.js"></script>
<div id="target"></div>
<script>
var animation;
var timing;
PerfTestRunner.measureRunsPerSecond({
    description: "This benchmark tests invalidating then getting AnimationNode.localTime",
    setup: function() {
        var player = target.animate([], 1000);
        player.currentTime = 250;
        animation = player.source;
        timing = animation.timing || animation.specified;
    },
    run: function() {
        for (var i = 0; i < 10000; i++) {
            // Invalidate the animation's timing information
            timing.playbackRate = 1 + i % 2;

            animation.localTime;
        }
    }
});
</script>
