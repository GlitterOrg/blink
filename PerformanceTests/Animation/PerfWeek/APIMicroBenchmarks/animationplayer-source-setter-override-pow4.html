<!DOCTYPE html>
<script src="../../../resources/runner.js"></script>
<div id="target"></div>
<script>
var sources;
var player;
PerfTestRunner.measureRunsPerSecond({
    description: "This benchmark tests setting AnimationPlayer.source and overriding a previous value",
    setup: function() {
        sources = [
            new Animation(target, [{'transform': 'translate(200px, 100px)'}, {'transform': 'translate(100px, 200px)'}]),
            new Animation(target, [{'transform': 'translate(200px, 300px)'}, {'transform': 'translate(300px, 200px)'}])
        ];
        player = document.timeline.play(null);
        if (player.source === undefined) {
            throw "ImNotTestingThis";
        }
    },
    run: function() {
        for (var i = 0; i < 10000; i++)
            player.source = sources[i % 2];
    }
});
</script>
