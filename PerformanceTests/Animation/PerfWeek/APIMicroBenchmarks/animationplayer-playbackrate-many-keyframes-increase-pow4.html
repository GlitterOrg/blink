<!DOCTYPE html>
<html>
<body>
<script src="../../../resources/runner.js"></script>
<div id="element"></div>
<script>
var player;
PerfTestRunner.measureRunsPerSecond({
    description: "This benchmark tests increasing playbackRate in the Web Animations API with many animation keyframes.",
    setup: function() {
        var element = document.getElementById('element');
        var keyframes = [
            {opacity: '0', offset: 0},
            {opacity: '1', offset: 0.1},
            {opacity: '0', offset: 0.2},
            {opacity: '1', offset: 0.3},
            {opacity: '0', offset: 0.4},
            {opacity: '1', offset: 0.5},
            {opacity: '0', offset: 0.6},
            {opacity: '1', offset: 0.7},
            {opacity: '0', offset: 0.8},
            {opacity: '1', offset: 0.9},
            {opacity: '0', offset: 1.0}
        ];
        player = element.animate(keyframes, 1000000);
        if (player.playbackRate === undefined) {
            throw "ImNotTestingThis";
        }
    },
    run: function() {
        var rate = 1;
        for (var i = 0; i < 10000; i++) {
            rate += 1;
            player.playbackRate = rate;
}}});
</script>
</body>
</html>
